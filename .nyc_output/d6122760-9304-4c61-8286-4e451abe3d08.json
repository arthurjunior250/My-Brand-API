{"/home/arthur/Desktop/andela/resources/my-brand-api/src/app.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/app.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":22}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":15},"end":{"line":12,"column":72}},"5":{"start":{"line":14,"column":12},"end":{"line":14,"column":66}},"6":{"start":{"line":16,"column":22},"end":{"line":16,"column":86}},"7":{"start":{"line":18,"column":15},"end":{"line":18,"column":72}},"8":{"start":{"line":20,"column":18},"end":{"line":20,"column":78}},"9":{"start":{"line":22,"column":39},"end":{"line":22,"column":93}},"10":{"start":{"line":24,"column":15},"end":{"line":24,"column":38}},"11":{"start":{"line":26,"column":0},"end":{"line":31,"column":3}},"12":{"start":{"line":27,"column":2},"end":{"line":30,"column":5}},"13":{"start":{"line":32,"column":0},"end":{"line":32,"column":36}},"14":{"start":{"line":33,"column":0},"end":{"line":33,"column":48}},"15":{"start":{"line":34,"column":0},"end":{"line":34,"column":42}},"16":{"start":{"line":35,"column":0},"end":{"line":35,"column":62}},"17":{"start":{"line":36,"column":0},"end":{"line":36,"column":54}},"18":{"start":{"line":37,"column":0},"end":{"line":37,"column":48}},"19":{"start":{"line":38,"column":15},"end":{"line":38,"column":21}},"20":{"start":{"line":39,"column":0},"end":{"line":39,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":31}},"loc":{"start":{"line":22,"column":37},"end":{"line":22,"column":95}},"line":22},"1":{"name":"(anonymous_1)","decl":{"start":{"line":26,"column":16},"end":{"line":26,"column":17}},"loc":{"start":{"line":26,"column":30},"end":{"line":31,"column":1}},"line":26}},"branchMap":{"0":{"loc":{"start":{"line":22,"column":46},"end":{"line":22,"column":92}},"type":"cond-expr","locations":[{"start":{"line":22,"column":70},"end":{"line":22,"column":73}},{"start":{"line":22,"column":76},"end":{"line":22,"column":92}}],"line":22},"1":{"loc":{"start":{"line":22,"column":46},"end":{"line":22,"column":67}},"type":"binary-expr","locations":[{"start":{"line":22,"column":46},"end":{"line":22,"column":49}},{"start":{"line":22,"column":53},"end":{"line":22,"column":67}}],"line":22}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":6,"10":1,"11":1,"12":0,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1},"f":{"0":6,"1":0},"b":{"0":[5,1],"1":[6,6]},"inputSourceMap":{"version":3,"sources":["app.js"],"names":["server","get","req","res","status","json","success","message","use","express","inquiryRoutes","blogRoutes","authRoutes","newsletterRoutes","commentRoutes"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAG,uBAAf,C,CAEA;;AACAA,MAAM,CAACC,GAAP,CAAW,GAAX,EAAgB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC1BA,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAE,IAAX;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAArB;AACH,CAFD;AAIAP,MAAM,CAACQ,GAAP,CAAWC,iBAAQJ,IAAR,EAAX;AAEAL,MAAM,CAACQ,GAAP,CAAW,iBAAX,EAA8BE,gBAA9B;AACAV,MAAM,CAACQ,GAAP,CAAW,cAAX,EAA2BG,aAA3B;AACAX,MAAM,CAACQ,GAAP,CAAW,wBAAX,EAAqCI,uBAArC;AACAZ,MAAM,CAACQ,GAAP,CAAW,oBAAX,EAAiCK,mBAAjC;AACAb,MAAM,CAACQ,GAAP,CAAW,iBAAX,EAA8BM,gBAA9B;eAEed,M","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/","sourcesContent":["import \"./database\";\nimport express from 'express';\nimport inquiryRoutes from './routes/inquiry.route';\nimport blogRoutes from './routes/blog.route';\nimport authRoutes from './routes/authentication.route';\nimport commentRoutes from './routes/comment.route';\nimport newsletterRoutes from './routes/newsletter.route';\n\nconst server = express();\n\n// default route\nserver.get('/', (req, res) => {\n    res.status(200).json({ success: true, message: \"You successfully landed on My brand app API\" })\n});\n\nserver.use(express.json());\n\nserver.use('/api/v1/inquiry', inquiryRoutes);\nserver.use('/api/v1/blog', blogRoutes);\nserver.use('/api/v1/authentication', authRoutes);\nserver.use('/api/v1/newsletter', newsletterRoutes);\nserver.use('/api/v1/comment', commentRoutes);\n\nexport default server;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"86d7ce1f25af0cdce832adb0b65089e58c07d7eb","contentHash":"684ce7dc0b23bc51d862265707596907d737ae7b2a9f9e1b1b392e71897ba517"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/database/index.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/database/index.js","statementMap":{"0":{"start":{"line":3,"column":16},"end":{"line":3,"column":59}},"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":25}},"2":{"start":{"line":7,"column":39},"end":{"line":7,"column":93}},"3":{"start":{"line":9,"column":12},"end":{"line":9,"column":32}},"4":{"start":{"line":10,"column":15},"end":{"line":10,"column":99}},"5":{"start":{"line":12,"column":0},"end":{"line":20,"column":3}},"6":{"start":{"line":16,"column":2},"end":{"line":16,"column":55}},"7":{"start":{"line":17,"column":2},"end":{"line":17,"column":22}},"8":{"start":{"line":19,"column":2},"end":{"line":19,"column":55}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":7,"column":9},"end":{"line":7,"column":31}},"loc":{"start":{"line":7,"column":37},"end":{"line":7,"column":95}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":15,"column":8},"end":{"line":15,"column":9}},"loc":{"start":{"line":15,"column":14},"end":{"line":18,"column":1}},"line":15},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":10}},"loc":{"start":{"line":18,"column":14},"end":{"line":20,"column":1}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":46},"end":{"line":7,"column":92}},"type":"cond-expr","locations":[{"start":{"line":7,"column":70},"end":{"line":7,"column":73}},{"start":{"line":7,"column":76},"end":{"line":7,"column":92}}],"line":7},"1":{"loc":{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},"type":"binary-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":49}},{"start":{"line":7,"column":53},"end":{"line":7,"column":67}}],"line":7},"2":{"loc":{"start":{"line":10,"column":15},"end":{"line":10,"column":99}},"type":"cond-expr","locations":[{"start":{"line":10,"column":37},"end":{"line":10,"column":66}},{"start":{"line":10,"column":69},"end":{"line":10,"column":99}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0},"f":{"0":1,"1":1,"2":0},"b":{"0":[0,1],"1":[1,1],"2":[0,1]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["env","process","NODE_ENV","db_url","DB_PRODUCTION_URL","DB_DEVELOPMENT_URL","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","console","log","catch","e","message"],"mappings":";;AAAA;;AAEA;;;;AADA,MAAMA,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAxB;AAGA,MAAMC,MAAM,GAAIH,GAAG,IAAI,YAAR,GAAwBC,OAAO,CAACD,GAAR,CAAYI,iBAApC,GAAwDH,OAAO,CAACD,GAAR,CAAYK,kBAAnF;;AAEAC,kBAASC,OAAT,CAAiBJ,MAAjB,EAAyB;AACjBK,EAAAA,eAAe,EAAE,IADA;AAEjBC,EAAAA,kBAAkB,EAAE;AAFH,CAAzB,EAKKC,IALL,CAKU,MAAM;AACRC,EAAAA,OAAO,CAACC,GAAR,CAAY,uCAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYT,MAAZ;AACH,CARL,EASKU,KATL,CASYC,CAAD,IAAO;AACVH,EAAAA,OAAO,CAACC,GAAR,CAAY,8BAA8BE,CAAC,CAACC,OAA5C;AACH,CAXL","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/database/","sourcesContent":["import mongoose from 'mongoose';\nconst env = process.env.NODE_ENV;\nimport \"dotenv/config\";\n\nconst db_url = (env == 'production') ? process.env.DB_PRODUCTION_URL : process.env.DB_DEVELOPMENT_URL\n\nmongoose.connect(db_url, {\n        useNewUrlParser: true,\n        useUnifiedTopology: true,\n\n    })\n    .then(() => {\n        console.log(\"App connected to Mongodb successfully\")\n        console.log(db_url)\n    })\n    .catch((e) => {\n        console.log(\"Mongodb connection error \" + e.message);\n    })"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ecf064d7a09ad5371a653773922fb4da2ed0de31","contentHash":"b1ef1fd89634508b589f69ae980ef5c00657421c98dc57479e52451e0824f7b4"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/routes/inquiry.route.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/routes/inquiry.route.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":59}},"4":{"start":{"line":12,"column":13},"end":{"line":12,"column":43}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":16,"column":15},"end":{"line":16,"column":40}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":39}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":61}},"9":{"start":{"line":20,"column":0},"end":{"line":20,"column":63}},"10":{"start":{"line":21,"column":0},"end":{"line":21,"column":69}},"11":{"start":{"line":22,"column":15},"end":{"line":22,"column":21}},"12":{"start":{"line":23,"column":0},"end":{"line":23,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["inquiry.route.js"],"names":["router","express","Router","post","saveInquiry","get","checkAdmin","getAllInquiries","getInquiryById","delete","deleteInquiryById"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AACA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,GAAZ,EAAiBC,oBAAjB;AACAJ,MAAM,CAACK,GAAP,CAAW,GAAX,EAAgBC,iBAAhB,EAA4BC,wBAA5B;AACAP,MAAM,CAACK,GAAP,CAAW,MAAX,EAAmBC,iBAAnB,EAA+BE,uBAA/B;AACAR,MAAM,CAACS,MAAP,CAAc,MAAd,EAAsBH,iBAAtB,EAAkCI,0BAAlC;eAEeV,M","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/routes/","sourcesContent":["import express from 'express';\nimport { deleteInquiryById, getAllInquiries, saveInquiry, getInquiryById } from '../controllers/inquiry.controller';\nimport { checkAdmin } from \"../middleware/check\";\nconst router = express.Router();\n\nrouter.post('/', saveInquiry);\nrouter.get('/', checkAdmin, getAllInquiries);\nrouter.get('/:id', checkAdmin, getInquiryById);\nrouter.delete('/:id', checkAdmin, deleteInquiryById);\n\nexport default router;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a6042b63d71525e9f66588f134b7a4ecfbd1aff2","contentHash":"f4fe95c3ad93fcc348d01a97f1629a24162f21b639c9a1c5661806879d30310c"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/controllers/inquiry.controller.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/controllers/inquiry.controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":108}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":81}},"3":{"start":{"line":10,"column":13},"end":{"line":10,"column":41}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":14,"column":20},"end":{"line":28,"column":1}},"6":{"start":{"line":17,"column":6},"end":{"line":17,"column":43}},"7":{"start":{"line":18,"column":2},"end":{"line":20,"column":5}},"8":{"start":{"line":18,"column":13},"end":{"line":20,"column":5}},"9":{"start":{"line":21,"column":18},"end":{"line":21,"column":26}},"10":{"start":{"line":22,"column":21},"end":{"line":22,"column":50}},"11":{"start":{"line":23,"column":2},"end":{"line":23,"column":26}},"12":{"start":{"line":24,"column":2},"end":{"line":27,"column":5}},"13":{"start":{"line":30,"column":0},"end":{"line":30,"column":34}},"14":{"start":{"line":32,"column":24},"end":{"line":38,"column":1}},"15":{"start":{"line":33,"column":20},"end":{"line":33,"column":49}},"16":{"start":{"line":34,"column":2},"end":{"line":37,"column":5}},"17":{"start":{"line":40,"column":0},"end":{"line":40,"column":42}},"18":{"start":{"line":42,"column":23},"end":{"line":55,"column":1}},"19":{"start":{"line":45,"column":6},"end":{"line":45,"column":16}},"20":{"start":{"line":46,"column":18},"end":{"line":46,"column":53}},"21":{"start":{"line":47,"column":2},"end":{"line":50,"column":5}},"22":{"start":{"line":47,"column":16},"end":{"line":50,"column":5}},"23":{"start":{"line":51,"column":2},"end":{"line":54,"column":5}},"24":{"start":{"line":57,"column":0},"end":{"line":57,"column":40}},"25":{"start":{"line":59,"column":26},"end":{"line":74,"column":1}},"26":{"start":{"line":62,"column":6},"end":{"line":62,"column":16}},"27":{"start":{"line":63,"column":18},"end":{"line":63,"column":53}},"28":{"start":{"line":64,"column":2},"end":{"line":67,"column":5}},"29":{"start":{"line":64,"column":16},"end":{"line":67,"column":5}},"30":{"start":{"line":68,"column":2},"end":{"line":68,"column":47}},"31":{"start":{"line":69,"column":2},"end":{"line":73,"column":5}},"32":{"start":{"line":76,"column":0},"end":{"line":76,"column":46}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":20},"end":{"line":14,"column":21}},"loc":{"start":{"line":14,"column":40},"end":{"line":28,"column":1}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":32,"column":24},"end":{"line":32,"column":25}},"loc":{"start":{"line":32,"column":44},"end":{"line":38,"column":1}},"line":32},"3":{"name":"(anonymous_3)","decl":{"start":{"line":42,"column":23},"end":{"line":42,"column":24}},"loc":{"start":{"line":42,"column":43},"end":{"line":55,"column":1}},"line":42},"4":{"name":"(anonymous_4)","decl":{"start":{"line":59,"column":26},"end":{"line":59,"column":27}},"loc":{"start":{"line":59,"column":46},"end":{"line":74,"column":1}},"line":59}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":18,"column":2},"end":{"line":20,"column":5}},"type":"if","locations":[{"start":{"line":18,"column":2},"end":{"line":20,"column":5}},{"start":{"line":18,"column":2},"end":{"line":20,"column":5}}],"line":18},"3":{"loc":{"start":{"line":47,"column":2},"end":{"line":50,"column":5}},"type":"if","locations":[{"start":{"line":47,"column":2},"end":{"line":50,"column":5}},{"start":{"line":47,"column":2},"end":{"line":50,"column":5}}],"line":47},"4":{"loc":{"start":{"line":64,"column":2},"end":{"line":67,"column":5}},"type":"if","locations":[{"start":{"line":64,"column":2},"end":{"line":67,"column":5}},{"start":{"line":64,"column":2},"end":{"line":67,"column":5}}],"line":64}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1},"f":{"0":1,"1":1,"2":0,"3":0,"4":0},"b":{"0":[1,0],"1":[1,1],"2":[0,1],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"sources":["inquiry.controller.js"],"names":["saveInquiry","req","res","error","body","status","json","message","details","inquiry","newInquiry","Inquiry","save","data","getAllInquiries","inquiries","find","getInquiryById","id","params","findById","deleteInquiryById","findByIdAndDelete"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEO,MAAMA,WAAW,GAAG,OAAMC,GAAN,EAAWC,GAAX,KAAmB;AAC1C,QAAM;AAAEC,IAAAA;AAAF,MAAY,4BAAgBF,GAAG,CAACG,IAApB,CAAlB;AACA,MAAID,KAAJ,EAAW,OAAOD,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAEJ,KAAK,CAACK,OAAN,CAAc,CAAd,EAAiBD;AAA5B,GAArB,CAAP;AACX,QAAME,OAAO,GAAGR,GAAG,CAACG,IAApB;AACA,QAAMM,UAAU,GAAG,IAAIC,gBAAJ,CAAYF,OAAZ,CAAnB;AACA,QAAMC,UAAU,CAACE,IAAX,EAAN;AACAV,EAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,SAAV;AAAqBQ,IAAAA,IAAI,EAAEH;AAA3B,GAArB;AACH,CAPM;;;;AAQA,MAAMI,eAAe,GAAG,OAAMb,GAAN,EAAWC,GAAX,KAAmB;AAC9C,QAAMa,SAAS,GAAG,MAAMJ,iBAAQK,IAAR,EAAxB;AACAd,EAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,IAAV;AAAgBQ,IAAAA,IAAI,EAAEE;AAAtB,GAArB;AACH,CAHM;;;;AAKA,MAAME,cAAc,GAAG,OAAMhB,GAAN,EAAWC,GAAX,KAAmB;AAC7C,QAAM;AAAEgB,IAAAA;AAAF,MAASjB,GAAG,CAACkB,MAAnB;AACA,QAAMV,OAAO,GAAG,MAAME,iBAAQS,QAAR,CAAiBF,EAAjB,CAAtB;AACA,MAAI,CAACT,OAAL,EAAc,OAAOP,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,MAAV;AAAkBE,IAAAA,OAAO,EAAE;AAA3B,GAArB,CAAP;AACdL,EAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,IAAV;AAAgBQ,IAAAA,IAAI,EAAEJ;AAAtB,GAArB;AACH,CALM;;;;AAOA,MAAMY,iBAAiB,GAAG,OAAMpB,GAAN,EAAWC,GAAX,KAAmB;AAChD,QAAM;AAAEgB,IAAAA;AAAF,MAASjB,GAAG,CAACkB,MAAnB;AACA,QAAMV,OAAO,GAAG,MAAME,iBAAQS,QAAR,CAAiBF,EAAjB,CAAtB;AACA,MAAI,CAACT,OAAL,EAAc,OAAOP,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,MAAV;AAAkBE,IAAAA,OAAO,EAAE;AAA3B,GAArB,CAAP;AACd,QAAMI,iBAAQW,iBAAR,CAA0BJ,EAA1B,CAAN;AACAhB,EAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,SAAV;AAAqBE,IAAAA,OAAO,EAAE,iBAA9B;AAAiDM,IAAAA,IAAI,EAAE;AAAvD,GAArB;AACH,CANM","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/controllers/","sourcesContent":["import Inquiry from '../database/model/inquiry.model';\nimport { queryValidation } from \"../validate/index\";\n\nexport const saveInquiry = async(req, res) => {\n    const { error } = queryValidation(req.body);\n    if (error) return res.status(400).json({ message: error.details[0].message });\n    const inquiry = req.body;\n    const newInquiry = new Inquiry(inquiry);\n    await newInquiry.save();\n    res.status(201).json({ status: \"success\", data: newInquiry });\n}\nexport const getAllInquiries = async(req, res) => {\n    const inquiries = await Inquiry.find();\n    res.status(200).json({ status: true, data: inquiries })\n}\n\nexport const getInquiryById = async(req, res) => {\n    const { id } = req.params;\n    const inquiry = await Inquiry.findById(id);\n    if (!inquiry) return res.status(404).json({ status: \"fail\", message: \"Inquiry not found\" });\n    res.status(200).json({ status: true, data: inquiry });\n}\n\nexport const deleteInquiryById = async(req, res) => {\n    const { id } = req.params;\n    const inquiry = await Inquiry.findById(id);\n    if (!inquiry) return res.status(404).json({ status: \"fail\", message: \"Inquiry not found\" });\n    await Inquiry.findByIdAndDelete(id);\n    res.status(200).json({ status: \"success\", message: \"Inquiry deleted\", data: \"Null\" });\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"365f869a9498616089107c440b522fb9adc82f20","contentHash":"914f157b7929f1fe084af22a644f71aaa0ba5796edd138ca3bb5749358778081"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/database/model/inquiry.model.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/database/model/inquiry.model.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":22},"end":{"line":29,"column":2}},"5":{"start":{"line":31,"column":16},"end":{"line":31,"column":65}},"6":{"start":{"line":33,"column":15},"end":{"line":33,"column":22}},"7":{"start":{"line":34,"column":0},"end":{"line":34,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["inquiry.model.js"],"names":["InquirySchema","mongoose","Schema","names","type","String","required","email","message","createdAt","Date","default","Enquiry","model"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,aAAa,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACtCC,EAAAA,KAAK,EAAE;AACHC,IAAAA,IAAI,EAAEC,MADH;AAEHC,IAAAA,QAAQ,EAAE;AAFP,GAD+B;AAKtCC,EAAAA,KAAK,EAAE;AACHH,IAAAA,IAAI,EAAEC,MADH;AAEHC,IAAAA,QAAQ,EAAE;AAFP,GAL+B;AAStCE,EAAAA,OAAO,EAAE;AACLJ,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE;AAFL,GAT6B;AAatCG,EAAAA,SAAS,EAAE;AACPL,IAAAA,IAAI,EAAEM,IADC;AAEPC,IAAAA,OAAO,EAAE,IAAID,IAAJ;AAFF;AAb2B,CAApB,CAAtB;;AAmBA,MAAME,OAAO,GAAGX,kBAASY,KAAT,CAAe,SAAf,EAA0Bb,aAA1B,CAAhB;;eACeY,O","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/database/model/","sourcesContent":["import mongoose from \"mongoose\";\n\nconst InquirySchema = new mongoose.Schema({\n    names: {\n        type: String,\n        required: true\n    },\n    email: {\n        type: String,\n        required: true\n    },\n    message: {\n        type: String,\n        required: true\n    },\n    createdAt: {\n        type: Date,\n        default: new Date()\n    }\n});\n\nconst Enquiry = mongoose.model('Enquiry', InquirySchema);\nexport default Enquiry;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ac93b103d6cf19d75c54aa31a2d0cba89ba781cf","contentHash":"ff24a0a5fb2801e65ffd4ba526d165ee2b6635412d921d706dccade6f86aa339"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/validate/index.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/validate/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":146}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":49}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":13,"column":24},"end":{"line":21,"column":1}},"5":{"start":{"line":14,"column":17},"end":{"line":18,"column":4}},"6":{"start":{"line":20,"column":2},"end":{"line":20,"column":31}},"7":{"start":{"line":24,"column":0},"end":{"line":24,"column":42}},"8":{"start":{"line":26,"column":27},"end":{"line":35,"column":1}},"9":{"start":{"line":27,"column":17},"end":{"line":32,"column":4}},"10":{"start":{"line":34,"column":2},"end":{"line":34,"column":31}},"11":{"start":{"line":38,"column":0},"end":{"line":38,"column":48}},"12":{"start":{"line":40,"column":23},"end":{"line":48,"column":1}},"13":{"start":{"line":41,"column":17},"end":{"line":45,"column":4}},"14":{"start":{"line":47,"column":2},"end":{"line":47,"column":31}},"15":{"start":{"line":51,"column":0},"end":{"line":51,"column":40}},"16":{"start":{"line":53,"column":29},"end":{"line":59,"column":1}},"17":{"start":{"line":54,"column":17},"end":{"line":56,"column":4}},"18":{"start":{"line":58,"column":2},"end":{"line":58,"column":31}},"19":{"start":{"line":62,"column":0},"end":{"line":62,"column":52}},"20":{"start":{"line":64,"column":26},"end":{"line":72,"column":1}},"21":{"start":{"line":65,"column":17},"end":{"line":69,"column":4}},"22":{"start":{"line":71,"column":2},"end":{"line":71,"column":31}},"23":{"start":{"line":74,"column":0},"end":{"line":74,"column":46}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":24},"end":{"line":13,"column":25}},"loc":{"start":{"line":13,"column":32},"end":{"line":21,"column":1}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":26,"column":27},"end":{"line":26,"column":28}},"loc":{"start":{"line":26,"column":35},"end":{"line":35,"column":1}},"line":26},"3":{"name":"(anonymous_3)","decl":{"start":{"line":40,"column":23},"end":{"line":40,"column":24}},"loc":{"start":{"line":40,"column":31},"end":{"line":48,"column":1}},"line":40},"4":{"name":"(anonymous_4)","decl":{"start":{"line":53,"column":29},"end":{"line":53,"column":30}},"loc":{"start":{"line":53,"column":37},"end":{"line":59,"column":1}},"line":53},"5":{"name":"(anonymous_5)","decl":{"start":{"line":64,"column":26},"end":{"line":64,"column":27}},"loc":{"start":{"line":64,"column":34},"end":{"line":72,"column":1}},"line":64}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":1,"12":1,"13":0,"14":0,"15":1,"16":1,"17":0,"18":0,"19":1,"20":1,"21":0,"22":0,"23":1},"f":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["queryValidation","data","schema","Joi","object","names","string","min","required","email","message","validate","registerValidation","userName","role","password","blogValidation","image","title","description","newsletterValidation","commentValidation","comment"],"mappings":";;;;;;;AAAA;;;;AAEA;AACO,MAAMA,eAAe,GAAIC,IAAD,IAAU;AACrC,QAAMC,MAAM,GAAGC,aAAIC,MAAJ,CAAW;AACtBC,IAAAA,KAAK,EAAEF,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB,EADe;AAEtBC,IAAAA,KAAK,EAAEN,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,EAAjB,EAAqBC,QAArB,GAAgCC,KAAhC,EAFe;AAGtBC,IAAAA,OAAO,EAAEP,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB;AAHa,GAAX,CAAf;;AAMA,SAAON,MAAM,CAACS,QAAP,CAAgBV,IAAhB,CAAP;AACH,CARM,C,CAUP;;;;;AACO,MAAMW,kBAAkB,GAAIX,IAAD,IAAU;AACxC,QAAMC,MAAM,GAAGC,aAAIC,MAAJ,CAAW;AACtBS,IAAAA,QAAQ,EAAEV,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB,EADY;AAEtBC,IAAAA,KAAK,EAAEN,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB,GAA+BC,KAA/B,EAFe;AAGtBK,IAAAA,IAAI,EAAEX,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,CAHgB;AAItBQ,IAAAA,QAAQ,EAAEZ,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB;AAJY,GAAX,CAAf;;AAOA,SAAON,MAAM,CAACS,QAAP,CAAgBV,IAAhB,CAAP;AACH,CATM,C,CAWP;;;;;AACO,MAAMe,cAAc,GAAIf,IAAD,IAAU;AACpC,QAAMC,MAAM,GAAGC,aAAIC,MAAJ,CAAW;AACtBa,IAAAA,KAAK,EAAEd,aAAIG,MAAJ,EADe;AAEtBY,IAAAA,KAAK,EAAEf,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB,EAFe;AAGtBW,IAAAA,WAAW,EAAEhB,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,GAAjB,EAAsBC,QAAtB;AAHS,GAAX,CAAf;;AAMA,SAAON,MAAM,CAACS,QAAP,CAAgBV,IAAhB,CAAP;AACH,CARM,C,CASP;;;;;AACO,MAAMmB,oBAAoB,GAAInB,IAAD,IAAU;AAC1C,QAAMC,MAAM,GAAGC,aAAIC,MAAJ,CAAW;AACtBK,IAAAA,KAAK,EAAEN,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB,GAA+BC,KAA/B;AADe,GAAX,CAAf;;AAIA,SAAOP,MAAM,CAACS,QAAP,CAAgBV,IAAhB,CAAP;AACH,CANM,C,CASP;;;;;AACO,MAAMoB,iBAAiB,GAAIpB,IAAD,IAAU;AACvC,QAAMC,MAAM,GAAGC,aAAIC,MAAJ,CAAW;AACtBC,IAAAA,KAAK,EAAEF,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB,EADe;AAEtBC,IAAAA,KAAK,EAAEN,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,EAAjB,EAAqBC,QAArB,GAAgCC,KAAhC,EAFe;AAGtBa,IAAAA,OAAO,EAAEnB,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB;AAHa,GAAX,CAAf;;AAMA,SAAON,MAAM,CAACS,QAAP,CAAgBV,IAAhB,CAAP;AACH,CARM","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/validate/","sourcesContent":["import Joi from \"joi\";\n\n// query validation\nexport const queryValidation = (data) => {\n    const schema = Joi.object({\n        names: Joi.string().min(4).required(),\n        email: Joi.string().min(10).required().email(),\n        message: Joi.string().min(3).required(),\n    });\n\n    return schema.validate(data);\n};\n\n//User validation\nexport const registerValidation = (data) => {\n    const schema = Joi.object({\n        userName: Joi.string().min(2).required(),\n        email: Joi.string().min(6).required().email(),\n        role: Joi.string().min(2),\n        password: Joi.string().min(6).required(),\n    });\n\n    return schema.validate(data);\n};\n\n//blog validation\nexport const blogValidation = (data) => {\n    const schema = Joi.object({\n        image: Joi.string(),\n        title: Joi.string().min(4).required(),\n        description: Joi.string().min(100).required(),\n    });\n\n    return schema.validate(data);\n};\n// newsletter\nexport const newsletterValidation = (data) => {\n    const schema = Joi.object({\n        email: Joi.string().min(6).required().email(),\n    });\n\n    return schema.validate(data);\n};\n\n\n//comment validation\nexport const commentValidation = (data) => {\n    const schema = Joi.object({\n        names: Joi.string().min(4).required(),\n        email: Joi.string().min(10).required().email(),\n        comment: Joi.string().min(2).required(),\n    });\n\n    return schema.validate(data);\n};"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"53db0170814ed1f8c4150bc06241e70262866e2b","contentHash":"3786f24465204d1a1457bdc5d7910abc177144dcfa4a95bcdaa40f15867e8109"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/middleware/check.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/middleware/check.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":48}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":27}},"3":{"start":{"line":10,"column":19},"end":{"line":27,"column":1}},"4":{"start":{"line":11,"column":22},"end":{"line":11,"column":47}},"5":{"start":{"line":13,"column":2},"end":{"line":21,"column":3}},"6":{"start":{"line":14,"column":18},"end":{"line":14,"column":43}},"7":{"start":{"line":15,"column":20},"end":{"line":15,"column":48}},"8":{"start":{"line":16,"column":4},"end":{"line":16,"column":47}},"9":{"start":{"line":16,"column":33},"end":{"line":16,"column":47}},"10":{"start":{"line":17,"column":4},"end":{"line":20,"column":7}},"11":{"start":{"line":23,"column":2},"end":{"line":26,"column":5}},"12":{"start":{"line":29,"column":0},"end":{"line":29,"column":32}},"13":{"start":{"line":31,"column":18},"end":{"line":48,"column":1}},"14":{"start":{"line":32,"column":22},"end":{"line":32,"column":47}},"15":{"start":{"line":34,"column":2},"end":{"line":42,"column":3}},"16":{"start":{"line":35,"column":18},"end":{"line":35,"column":43}},"17":{"start":{"line":36,"column":20},"end":{"line":36,"column":48}},"18":{"start":{"line":37,"column":4},"end":{"line":37,"column":55}},"19":{"start":{"line":37,"column":41},"end":{"line":37,"column":55}},"20":{"start":{"line":38,"column":4},"end":{"line":41,"column":7}},"21":{"start":{"line":44,"column":2},"end":{"line":47,"column":5}},"22":{"start":{"line":50,"column":0},"end":{"line":50,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":19},"end":{"line":10,"column":20}},"loc":{"start":{"line":10,"column":39},"end":{"line":27,"column":1}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":31,"column":18},"end":{"line":31,"column":19}},"loc":{"start":{"line":31,"column":38},"end":{"line":48,"column":1}},"line":31}},"branchMap":{"0":{"loc":{"start":{"line":13,"column":2},"end":{"line":21,"column":3}},"type":"if","locations":[{"start":{"line":13,"column":2},"end":{"line":21,"column":3}},{"start":{"line":13,"column":2},"end":{"line":21,"column":3}}],"line":13},"1":{"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":47}},"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":16,"column":47}},{"start":{"line":16,"column":4},"end":{"line":16,"column":47}}],"line":16},"2":{"loc":{"start":{"line":34,"column":2},"end":{"line":42,"column":3}},"type":"if","locations":[{"start":{"line":34,"column":2},"end":{"line":42,"column":3}},{"start":{"line":34,"column":2},"end":{"line":42,"column":3}}],"line":34},"3":{"loc":{"start":{"line":37,"column":4},"end":{"line":37,"column":55}},"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":37,"column":55}},{"start":{"line":37,"column":4},"end":{"line":37,"column":55}}],"line":37}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1},"f":{"0":0,"1":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},"inputSourceMap":{"version":3,"sources":["check.js"],"names":["checkAdmin","req","res","next","bearerToken","headers","authorization","token","split","payload","role","status","json","message","checkUser"],"mappings":";;;;;;;AAAA;;AAEO,MAAMA,UAAU,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC1C,QAAMC,WAAW,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAAhC;;AACA,MAAIF,WAAJ,EAAiB;AACb,UAAMG,KAAK,GAAGH,WAAW,CAACI,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAd;AACA,UAAMC,OAAO,GAAG,sBAAYF,KAAZ,CAAhB;AACA,QAAIE,OAAO,CAACC,IAAR,IAAgB,OAApB,EAA6B,OAAOP,IAAI,EAAX;AAC7B,WAAOD,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,MAAAA,MAAM,EAAE,MAAV;AAAkBE,MAAAA,OAAO,EAAE;AAA3B,KAArB,CAAP;AACH;;AACD,SAAOX,GAAG,CACLS,MADE,CACK,GADL,EAEFC,IAFE,CAEG;AAAED,IAAAA,MAAM,EAAE,MAAV;AAAkBE,IAAAA,OAAO,EAAE;AAA3B,GAFH,CAAP;AAGH,CAXM;;;;AAaA,MAAMC,SAAS,GAAG,CAACb,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACzC,QAAMC,WAAW,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAAhC;;AACA,MAAIF,WAAJ,EAAiB;AACb,UAAMG,KAAK,GAAGH,WAAW,CAACI,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAd;AACA,UAAMC,OAAO,GAAG,sBAAYF,KAAZ,CAAhB;AACA,QAAIE,OAAO,CAACC,IAAR,IAAgB,eAApB,EAAqC,OAAOP,IAAI,EAAX;AACrC,WAAOD,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,MAAAA,MAAM,EAAE,MAAV;AAAkBE,MAAAA,OAAO,EAAE;AAA3B,KAArB,CAAP;AACH;;AACD,SAAOX,GAAG,CACLS,MADE,CACK,GADL,EAEFC,IAFE,CAEG;AAAED,IAAAA,MAAM,EAAE,MAAV;AAAkBE,IAAAA,OAAO,EAAE;AAA3B,GAFH,CAAP;AAGH,CAXM","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/middleware/","sourcesContent":["import { decodeToken } from \"./jwt\";\n\nexport const checkAdmin = (req, res, next) => {\n    const bearerToken = req.headers.authorization;\n    if (bearerToken) {\n        const token = bearerToken.split(\" \")[1];\n        const payload = decodeToken(token);\n        if (payload.role == \"admin\") return next();\n        return res.status(401).json({ status: \"fail\", message: \"you are not allowed to access this service\" });\n    }\n    return res\n        .status(401)\n        .json({ status: \"fail\", message: \"Not Authorized , please login\" });\n};\n\nexport const checkUser = (req, res, next) => {\n    const bearerToken = req.headers.authorization;\n    if (bearerToken) {\n        const token = bearerToken.split(\" \")[1];\n        const payload = decodeToken(token);\n        if (payload.role == \"standard-user\") return next();\n        return res.status(401).json({ status: \"fail\", message: \"you are not allowed to access this service\" });\n    }\n    return res\n        .status(401)\n        .json({ status: \"fail\", message: \"Not Authorized , please login\" });\n};"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"727d06c21e24ceebbb89d1150e9bdf72555f973f","contentHash":"675d9750fd82c577ceac79b15b59be5fb27183ba2b4f2ae99f83c155e3a74d74"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/middleware/jwt.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/middleware/jwt.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":49}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":25}},"3":{"start":{"line":10,"column":20},"end":{"line":10,"column":67}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":14,"column":20},"end":{"line":14,"column":43}},"6":{"start":{"line":16,"column":18},"end":{"line":18,"column":1}},"7":{"start":{"line":17,"column":2},"end":{"line":17,"column":58}},"8":{"start":{"line":20,"column":0},"end":{"line":20,"column":30}},"9":{"start":{"line":22,"column":20},"end":{"line":24,"column":1}},"10":{"start":{"line":23,"column":2},"end":{"line":23,"column":58}},"11":{"start":{"line":26,"column":0},"end":{"line":26,"column":34}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":18},"end":{"line":16,"column":19}},"loc":{"start":{"line":16,"column":29},"end":{"line":18,"column":1}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":22,"column":20},"end":{"line":22,"column":21}},"loc":{"start":{"line":22,"column":29},"end":{"line":24,"column":1}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":1,"10":0,"11":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["jwt.js"],"names":["private_key","process","env","PRIVATE_KEY","signToken","payload","jwt","sign","decodeToken","token","decode"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,WAAW,GAAGC,OAAO,CAACC,GAAR,CAAYC,WAAhC;;AAEO,MAAMC,SAAS,GAAIC,OAAD,IAAa;AACnC,SAAOC,sBAAIC,IAAJ,CAASF,OAAT,EAAkBL,WAAlB,CAAP;AACF,CAFM;;;;AAIA,MAAMQ,WAAW,GAAIC,KAAD,IAAW;AAClC,SAAOH,sBAAII,MAAJ,CAAWD,KAAX,EAAkBT,WAAlB,CAAP;AACH,CAFM","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/middleware/","sourcesContent":["import 'dotenv/config';\nimport jwt from 'jsonwebtoken';\n\nconst private_key = process.env.PRIVATE_KEY;\n\nexport const signToken = (payload) => {\n   return jwt.sign(payload, private_key);\n}\n\nexport const decodeToken = (token) => {\n    return jwt.decode(token, private_key);\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a04fcda346fd1841b82e45c4e1d39c8df6ccd43c","contentHash":"5d0acd9af524b7ebce02c07b37a7102accb4b6b5c99b06f250947c78058372ba"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/routes/blog.route.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/routes/blog.route.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":53}},"4":{"start":{"line":12,"column":13},"end":{"line":12,"column":43}},"5":{"start":{"line":14,"column":14},"end":{"line":14,"column":55}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":93}},"7":{"start":{"line":18,"column":15},"end":{"line":18,"column":40}},"8":{"start":{"line":21,"column":16},"end":{"line":21,"column":47}},"9":{"start":{"line":23,"column":19},"end":{"line":29,"column":1}},"10":{"start":{"line":24,"column":2},"end":{"line":28,"column":3}},"11":{"start":{"line":25,"column":4},"end":{"line":25,"column":19}},"12":{"start":{"line":27,"column":4},"end":{"line":27,"column":37}},"13":{"start":{"line":31,"column":16},"end":{"line":34,"column":2}},"14":{"start":{"line":35,"column":0},"end":{"line":35,"column":77}},"15":{"start":{"line":36,"column":0},"end":{"line":36,"column":56}},"16":{"start":{"line":37,"column":0},"end":{"line":37,"column":63}},"17":{"start":{"line":38,"column":0},"end":{"line":38,"column":35}},"18":{"start":{"line":39,"column":0},"end":{"line":39,"column":38}},"19":{"start":{"line":40,"column":15},"end":{"line":40,"column":21}},"20":{"start":{"line":41,"column":0},"end":{"line":41,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":95}},"line":16},"1":{"name":"(anonymous_1)","decl":{"start":{"line":23,"column":19},"end":{"line":23,"column":20}},"loc":{"start":{"line":23,"column":38},"end":{"line":29,"column":1}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":92}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":92}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16},"2":{"loc":{"start":{"line":24,"column":2},"end":{"line":28,"column":3}},"type":"if","locations":[{"start":{"line":24,"column":2},"end":{"line":28,"column":3}},{"start":{"line":24,"column":2},"end":{"line":28,"column":3}}],"line":24}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":2,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1},"f":{"0":2,"1":0},"b":{"0":[0,2],"1":[2,2],"2":[0,0]},"inputSourceMap":{"version":3,"sources":["blog.route.js"],"names":["router","express","Router","storage","multer","diskStorage","fileFilter","req","file","cb","mimetype","startsWith","uploads","post","checkAdmin","single","saveBlog","put","updateBlog","delete","deleteBlogById","get","getAllBlogs","getblogById"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAGA;;;;AAFA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf,C,CACA;;;AAEA,MAAMC,OAAO,GAAGC,gBAAOC,WAAP,CAAmB,EAAnB,CAAhB;;AACA,MAAMC,UAAU,GAAG,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,KAAmB;AAClC,MAAID,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAyB,OAAzB,CAAJ,EAAuC;AACnCF,IAAAA,EAAE,CAAC,IAAD,EAAO,IAAP,CAAF;AACH,GAFD,MAEO;AACHA,IAAAA,EAAE,CAAC,qBAAD,EAAwB,KAAxB,CAAF;AACH;AACJ,CAND;;AAOA,MAAMG,OAAO,GAAG,qBAAO;AAAET,EAAAA,OAAF;AAAWG,EAAAA;AAAX,CAAP,CAAhB;AAEAN,MAAM,CAACa,IAAP,CAAY,GAAZ,EAAiBC,iBAAjB,EAA6BF,OAAO,CAACG,MAAR,CAAe,OAAf,CAA7B,EAAsDC,cAAtD;AACAhB,MAAM,CAACiB,GAAP,CAAW,MAAX,EAAmBH,iBAAnB,EAA+BI,gBAA/B;AACAlB,MAAM,CAACmB,MAAP,CAAc,MAAd,EAAsBL,iBAAtB,EAAkCM,oBAAlC;AACApB,MAAM,CAACqB,GAAP,CAAW,GAAX,EAAgBC,iBAAhB;AACAtB,MAAM,CAACqB,GAAP,CAAW,MAAX,EAAmBE,iBAAnB;eAEevB,M","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/routes/","sourcesContent":["import express from 'express';\nimport { deleteBlogById, saveBlog, updateBlog, getAllBlogs, getblogById } from '../controllers/blog.controller';\nimport { checkAdmin } from \"../middleware/check\";\nconst router = express.Router();\n//image\nimport multer from \"multer\";\nconst storage = multer.diskStorage({});\nconst fileFilter = (req, file, cb) => {\n    if (file.mimetype.startsWith(\"image\")) {\n        cb(null, true);\n    } else {\n        cb(\"invalid image file!\", false);\n    }\n};\nconst uploads = multer({ storage, fileFilter });\n\nrouter.post('/', checkAdmin, uploads.single(\"image\"), saveBlog);\nrouter.put('/:id', checkAdmin, updateBlog);\nrouter.delete('/:id', checkAdmin, deleteBlogById);\nrouter.get('/', getAllBlogs);\nrouter.get('/:id', getblogById);\n\nexport default router;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"89af292d5591d538a37db01c8167d536869a9a8e","contentHash":"8a32050ba792739afc9edc57ed72fb57c4faf2ffe23b6506316e5b301df377b5"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/controllers/blog.controller.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/controllers/blog.controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":116}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":75}},"3":{"start":{"line":10,"column":13},"end":{"line":10,"column":41}},"4":{"start":{"line":12,"column":12},"end":{"line":12,"column":41}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":16,"column":17},"end":{"line":50,"column":1}},"7":{"start":{"line":19,"column":6},"end":{"line":19,"column":42}},"8":{"start":{"line":20,"column":2},"end":{"line":22,"column":5}},"9":{"start":{"line":20,"column":13},"end":{"line":22,"column":5}},"10":{"start":{"line":23,"column":16},"end":{"line":23,"column":53}},"11":{"start":{"line":25,"column":2},"end":{"line":30,"column":3}},"12":{"start":{"line":26,"column":4},"end":{"line":29,"column":7}},"13":{"start":{"line":33,"column":2},"end":{"line":37,"column":3}},"14":{"start":{"line":34,"column":4},"end":{"line":34,"column":54}},"15":{"start":{"line":36,"column":4},"end":{"line":36,"column":129}},"16":{"start":{"line":39,"column":15},"end":{"line":43,"column":3}},"17":{"start":{"line":44,"column":18},"end":{"line":44,"column":41}},"18":{"start":{"line":45,"column":2},"end":{"line":45,"column":23}},"19":{"start":{"line":46,"column":2},"end":{"line":49,"column":5}},"20":{"start":{"line":52,"column":0},"end":{"line":52,"column":28}},"21":{"start":{"line":54,"column":19},"end":{"line":69,"column":1}},"22":{"start":{"line":57,"column":6},"end":{"line":57,"column":16}},"23":{"start":{"line":58,"column":18},"end":{"line":58,"column":26}},"24":{"start":{"line":59,"column":15},"end":{"line":59,"column":47}},"25":{"start":{"line":60,"column":2},"end":{"line":63,"column":5}},"26":{"start":{"line":60,"column":13},"end":{"line":63,"column":5}},"27":{"start":{"line":64,"column":2},"end":{"line":64,"column":53}},"28":{"start":{"line":65,"column":2},"end":{"line":68,"column":5}},"29":{"start":{"line":71,"column":0},"end":{"line":71,"column":32}},"30":{"start":{"line":73,"column":23},"end":{"line":87,"column":1}},"31":{"start":{"line":76,"column":6},"end":{"line":76,"column":16}},"32":{"start":{"line":77,"column":15},"end":{"line":77,"column":47}},"33":{"start":{"line":78,"column":2},"end":{"line":81,"column":5}},"34":{"start":{"line":78,"column":13},"end":{"line":81,"column":5}},"35":{"start":{"line":82,"column":2},"end":{"line":82,"column":44}},"36":{"start":{"line":83,"column":2},"end":{"line":86,"column":5}},"37":{"start":{"line":89,"column":0},"end":{"line":89,"column":40}},"38":{"start":{"line":91,"column":20},"end":{"line":104,"column":1}},"39":{"start":{"line":94,"column":6},"end":{"line":94,"column":16}},"40":{"start":{"line":95,"column":15},"end":{"line":95,"column":47}},"41":{"start":{"line":96,"column":2},"end":{"line":99,"column":5}},"42":{"start":{"line":96,"column":13},"end":{"line":99,"column":5}},"43":{"start":{"line":100,"column":2},"end":{"line":103,"column":5}},"44":{"start":{"line":106,"column":0},"end":{"line":106,"column":34}},"45":{"start":{"line":108,"column":20},"end":{"line":114,"column":1}},"46":{"start":{"line":109,"column":16},"end":{"line":109,"column":42}},"47":{"start":{"line":110,"column":2},"end":{"line":113,"column":5}},"48":{"start":{"line":116,"column":0},"end":{"line":116,"column":34}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":17},"end":{"line":16,"column":18}},"loc":{"start":{"line":16,"column":43},"end":{"line":50,"column":1}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":54,"column":19},"end":{"line":54,"column":20}},"loc":{"start":{"line":54,"column":39},"end":{"line":69,"column":1}},"line":54},"3":{"name":"(anonymous_3)","decl":{"start":{"line":73,"column":23},"end":{"line":73,"column":24}},"loc":{"start":{"line":73,"column":43},"end":{"line":87,"column":1}},"line":73},"4":{"name":"(anonymous_4)","decl":{"start":{"line":91,"column":20},"end":{"line":91,"column":21}},"loc":{"start":{"line":91,"column":40},"end":{"line":104,"column":1}},"line":91},"5":{"name":"(anonymous_5)","decl":{"start":{"line":108,"column":20},"end":{"line":108,"column":21}},"loc":{"start":{"line":108,"column":40},"end":{"line":114,"column":1}},"line":108}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14},"2":{"loc":{"start":{"line":20,"column":2},"end":{"line":22,"column":5}},"type":"if","locations":[{"start":{"line":20,"column":2},"end":{"line":22,"column":5}},{"start":{"line":20,"column":2},"end":{"line":22,"column":5}}],"line":20},"3":{"loc":{"start":{"line":25,"column":2},"end":{"line":30,"column":3}},"type":"if","locations":[{"start":{"line":25,"column":2},"end":{"line":30,"column":3}},{"start":{"line":25,"column":2},"end":{"line":30,"column":3}}],"line":25},"4":{"loc":{"start":{"line":33,"column":2},"end":{"line":37,"column":3}},"type":"if","locations":[{"start":{"line":33,"column":2},"end":{"line":37,"column":3}},{"start":{"line":33,"column":2},"end":{"line":37,"column":3}}],"line":33},"5":{"loc":{"start":{"line":60,"column":2},"end":{"line":63,"column":5}},"type":"if","locations":[{"start":{"line":60,"column":2},"end":{"line":63,"column":5}},{"start":{"line":60,"column":2},"end":{"line":63,"column":5}}],"line":60},"6":{"loc":{"start":{"line":78,"column":2},"end":{"line":81,"column":5}},"type":"if","locations":[{"start":{"line":78,"column":2},"end":{"line":81,"column":5}},{"start":{"line":78,"column":2},"end":{"line":81,"column":5}}],"line":78},"7":{"loc":{"start":{"line":96,"column":2},"end":{"line":99,"column":5}},"type":"if","locations":[{"start":{"line":96,"column":2},"end":{"line":99,"column":5}},{"start":{"line":96,"column":2},"end":{"line":99,"column":5}}],"line":96}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":1,"46":0,"47":0,"48":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"inputSourceMap":{"version":3,"sources":["blog.controller.js"],"names":["saveBlog","req","res","next","error","body","status","json","message","details","oldblog","Blog","findOne","file","image","blog","title","description","newBlog","save","data","updateBlog","id","params","updates","findById","findByIdAndUpdate","deleteBlogById","findByIdAndDelete","getblogById","getAllBlogs","blogs","find"],"mappings":"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","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/controllers/","sourcesContent":["import Blog from '../database/model/blog.model';\nimport { blogValidation } from \"../validate/index\";\n\n\nimport { fileUpload } from \"../middleware/file\";\n\nexport const saveBlog = async(req, res, next) => {\n    const { error } = blogValidation(req.body);\n    if (error) return res.status(400).json({ message: error.details[0].message });\n    let oldblog = await Blog.findOne(req.body);\n    if (oldblog) {\n        return res.status(400).json({\n            status: \"fail\",\n            message: \"blog Exists\",\n        });\n    }\n    //image\n    if (req.file) {\n        req.body.image = await fileUpload(req);\n    } else {\n        req.body.image =\n            \"https://images.pexels.com/photos/1072179/pexels-photo-1072179.jpeg?auto=compress&cs=tinysrgb&h=750&w=1260\";\n    }\n    const blog = {\n        image: req.body.image,\n        title: req.body.title,\n        description: req.body.description\n    };\n    const newBlog = new Blog(blog);\n    await newBlog.save();\n    res.status(201).json({ status: \"success\", data: newBlog });\n}\n\n\n\nexport const updateBlog = async(req, res) => {\n    const { id } = req.params;\n    const updates = req.body;\n    const blog = await Blog.findById(id);\n    if (!blog) return res.status(404).json({ status: \"fail\", message: \"Blog not found\" });\n    await Blog.findByIdAndUpdate(id, updates);\n    res.status(200).json({ status: \"success\", message: \"Blog updated successfully\" })\n}\n\nexport const deleteBlogById = async(req, res) => {\n    const { id } = req.params;\n    const blog = await Blog.findById(id);\n    if (!blog) return res.status(404).json({ status: \"fail\", message: \"Blog not found\" });\n    await Blog.findByIdAndDelete(id);\n    res.status(200).json({ status: \"success\", message: \"Blog deleted\" });\n}\n\nexport const getblogById = async(req, res) => {\n    const { id } = req.params;\n    const blog = await Blog.findById(id);\n    if (!blog) return res.status(404).json({ status: \"fail\", message: \"Blog not found\" });\n    res.status(200).json({ status: true, data: blog });\n}\nexport const getAllBlogs = async(req, res) => {\n    const blogs = await Blog.find();\n    res.status(200).json({ status: true, data: blogs })\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e67fd4881573f7ff6cd8ce40b034a1fa6e385bf7","contentHash":"4e782529f02a19c61281c4d26f3a18d2471acabe195cf02ecfd4be36528f1f2b"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/database/model/blog.model.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/database/model/blog.model.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":19},"end":{"line":33,"column":2}},"5":{"start":{"line":35,"column":13},"end":{"line":35,"column":56}},"6":{"start":{"line":37,"column":15},"end":{"line":37,"column":19}},"7":{"start":{"line":38,"column":0},"end":{"line":38,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["blog.model.js"],"names":["blogSchema","mongoose","Schema","image","type","String","required","title","description","createdAt","Date","default","comments","Types","ObjectId","ref","Blog","model"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACnCC,EAAAA,KAAK,EAAE;AACHC,IAAAA,IAAI,EAAEC,MADH;AAEHC,IAAAA,QAAQ,EAAE;AAFP,GAD4B;AAKnCC,EAAAA,KAAK,EAAE;AACHH,IAAAA,IAAI,EAAEC,MADH;AAEHC,IAAAA,QAAQ,EAAE;AAFP,GAL4B;AASnCE,EAAAA,WAAW,EAAE;AACTJ,IAAAA,IAAI,EAAEC,MADG;AAETC,IAAAA,QAAQ,EAAE;AAFD,GATsB;AAanCG,EAAAA,SAAS,EAAE;AACPL,IAAAA,IAAI,EAAEM,IADC;AAEPC,IAAAA,OAAO,EAAE,IAAID,IAAJ;AAFF,GAbwB;AAiBnCE,EAAAA,QAAQ,EAAE,CAAC;AACPR,IAAAA,IAAI,EAAEH,kBAASC,MAAT,CAAgBW,KAAhB,CAAsBC,QADrB;AAEPC,IAAAA,GAAG,EAAE;AAFE,GAAD;AAjByB,CAApB,CAAnB;;AAuBA,MAAMC,IAAI,GAAGf,kBAASgB,KAAT,CAAe,MAAf,EAAuBjB,UAAvB,CAAb;;eACegB,I","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/database/model/","sourcesContent":["import mongoose from \"mongoose\";\n\nconst blogSchema = new mongoose.Schema({\n    image: {\n        type: String,\n        required: true\n    },\n    title: {\n        type: String,\n        required: true\n    },\n    description: {\n        type: String,\n        required: true\n    },\n    createdAt: {\n        type: Date,\n        default: new Date()\n    },\n    comments: [{\n        type: mongoose.Schema.Types.ObjectId,\n        ref: \"Comment\",\n    }, ],\n});\n\nconst Blog = mongoose.model('Blog', blogSchema);\nexport default Blog;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b8d1bfada7c6673a11eca6c34463ff2beb82464a","contentHash":"a870b47ba293d4da4d87536efefaa12dcc7cce593aeb71c2bee083bdbc69b4b2"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/middleware/file.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/middleware/file.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":13},"end":{"line":8,"column":55}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":19},"end":{"line":22,"column":1}},"5":{"start":{"line":13,"column":17},"end":{"line":13,"column":19}},"6":{"start":{"line":14,"column":2},"end":{"line":20,"column":5}},"7":{"start":{"line":15,"column":4},"end":{"line":17,"column":5}},"8":{"start":{"line":16,"column":6},"end":{"line":16,"column":23}},"9":{"start":{"line":19,"column":4},"end":{"line":19,"column":25}},"10":{"start":{"line":21,"column":2},"end":{"line":21,"column":18}},"11":{"start":{"line":24,"column":0},"end":{"line":24,"column":32}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":19},"end":{"line":12,"column":20}},"loc":{"start":{"line":12,"column":32},"end":{"line":22,"column":1}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":57},"end":{"line":14,"column":58}},"loc":{"start":{"line":14,"column":85},"end":{"line":20,"column":3}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10},"2":{"loc":{"start":{"line":15,"column":4},"end":{"line":17,"column":5}},"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":17,"column":5}},{"start":{"line":15,"column":4},"end":{"line":17,"column":5}}],"line":15}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0]},"inputSourceMap":{"version":3,"sources":["file.js"],"names":["fileUpload","req","imageUrl","cloudinary","v2","uploader","upload","file","path","err","image","console","log","url"],"mappings":";;;;;;;AAAA;;;;AACO,MAAMA,UAAU,GAAG,MAAMC,GAAN,IAAc;AACpC,MAAIC,QAAQ,GAAG,EAAf;AACA,QAAMC,eAAWC,EAAX,CAAcC,QAAd,CAAuBC,MAAvB,CACFL,GAAG,CAACM,IAAJ,CAASC,IADP,EAEF,gBAAeC,GAAf,EAAoBC,KAApB,EAA2B;AACvB,QAAID,GAAJ,EAAS;AACLE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACH;;AACDP,IAAAA,QAAQ,GAAGQ,KAAK,CAACG,GAAjB;AACH,GAPC,CAAN;AAUA,SAAOX,QAAP;AACH,CAbM","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/middleware/","sourcesContent":["import cloudinary from \"./image\";\nexport const fileUpload = async(req) => {\n    let imageUrl = \"\";\n    await cloudinary.v2.uploader.upload(\n        req.file.path,\n        async function(err, image) {\n            if (err) {\n                console.log(err);\n            }\n            imageUrl = image.url;\n        }\n\n    );\n    return imageUrl;\n};"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"502d79d9dc64a609768ec8872e442bce581acebb","contentHash":"cb24f27ebae24a5da4968c9afb99e13c0f2ff3ccea9074fdb7d36dbe62708305"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/middleware/image.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/middleware/image.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":18},"end":{"line":8,"column":63}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":25}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":14,"column":0},"end":{"line":18,"column":3}},"6":{"start":{"line":20,"column":15},"end":{"line":20,"column":34}},"7":{"start":{"line":21,"column":0},"end":{"line":21,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["image.js"],"names":["cloudinary","config","cloud_name","process","env","CLOUDINARY_USER_NAME","api_key","CLOUDINARY_API_KEY","api_secret","CLOUDINARY_API_SECRET"],"mappings":";;;;;;;AAAA;;AACA;;;;AACAA,oBAAWC,MAAX,CAAkB;AACdC,EAAAA,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC,oBADV;AAEdC,EAAAA,OAAO,EAAEH,OAAO,CAACC,GAAR,CAAYG,kBAFP;AAGdC,EAAAA,UAAU,EAAEL,OAAO,CAACC,GAAR,CAAYK;AAHV,CAAlB;;eAMeT,mB","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/middleware/","sourcesContent":["import cloudinary from \"cloudinary\";\nimport \"dotenv/config\";\ncloudinary.config({\n    cloud_name: process.env.CLOUDINARY_USER_NAME,\n    api_key: process.env.CLOUDINARY_API_KEY,\n    api_secret: process.env.CLOUDINARY_API_SECRET,\n});\n\nexport default cloudinary;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fe4994076a6757b3e9c9176dab69cdbea7e12710","contentHash":"98ae104321ddecb0125dee92edef025aac8ca6a3c5396f848713f3b77898f66b"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/routes/authentication.route.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/routes/authentication.route.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":22},"end":{"line":10,"column":73}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":14,"column":15},"end":{"line":14,"column":40}},"6":{"start":{"line":16,"column":0},"end":{"line":16,"column":47}},"7":{"start":{"line":17,"column":0},"end":{"line":17,"column":45}},"8":{"start":{"line":18,"column":0},"end":{"line":18,"column":57}},"9":{"start":{"line":19,"column":15},"end":{"line":19,"column":21}},"10":{"start":{"line":20,"column":0},"end":{"line":20,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["authentication.route.js"],"names":["router","express","Router","post","signup","login","get","userProfile"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,SAAZ,EAAuBC,sBAAvB;AACAJ,MAAM,CAACG,IAAP,CAAY,QAAZ,EAAsBE,qBAAtB;AACAL,MAAM,CAACM,GAAP,CAAW,eAAX,EAA4BC,2BAA5B;eAGeP,M","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/routes/","sourcesContent":["import express from 'express';\nimport { login, signup, userProfile } from '../controllers/authentication.controller';\n\nconst router = express.Router();\n\nrouter.post('/signup', signup);\nrouter.post('/login', login);\nrouter.get('/user-profile', userProfile);\n\n\nexport default router;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b6df51dfe9e1133e49dfd9b7e2953452a7281c1a","contentHash":"c13fc60d9378e2745b7d6e3d36c817cde9684b4237ee5e0b87e0027e4f930576"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/controllers/authentication.controller.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/controllers/authentication.controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":62}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":75}},"3":{"start":{"line":10,"column":20},"end":{"line":10,"column":58}},"4":{"start":{"line":12,"column":11},"end":{"line":12,"column":39}},"5":{"start":{"line":14,"column":22},"end":{"line":14,"column":72}},"6":{"start":{"line":16,"column":13},"end":{"line":16,"column":41}},"7":{"start":{"line":18,"column":39},"end":{"line":18,"column":93}},"8":{"start":{"line":20,"column":15},"end":{"line":54,"column":1}},"9":{"start":{"line":23,"column":6},"end":{"line":23,"column":46}},"10":{"start":{"line":24,"column":2},"end":{"line":26,"column":5}},"11":{"start":{"line":24,"column":13},"end":{"line":26,"column":5}},"12":{"start":{"line":28,"column":2},"end":{"line":53,"column":3}},"13":{"start":{"line":29,"column":15},"end":{"line":31,"column":6}},"14":{"start":{"line":33,"column":4},"end":{"line":38,"column":5}},"15":{"start":{"line":34,"column":6},"end":{"line":37,"column":9}},"16":{"start":{"line":40,"column":4},"end":{"line":40,"column":20}},"17":{"start":{"line":41,"column":4},"end":{"line":41,"column":65}},"18":{"start":{"line":42,"column":20},"end":{"line":42,"column":49}},"19":{"start":{"line":43,"column":4},"end":{"line":43,"column":19}},"20":{"start":{"line":44,"column":4},"end":{"line":47,"column":7}},"21":{"start":{"line":49,"column":4},"end":{"line":52,"column":7}},"22":{"start":{"line":56,"column":0},"end":{"line":56,"column":24}},"23":{"start":{"line":58,"column":14},"end":{"line":93,"column":1}},"24":{"start":{"line":62,"column":6},"end":{"line":62,"column":14}},"25":{"start":{"line":63,"column":13},"end":{"line":65,"column":4}},"26":{"start":{"line":66,"column":2},"end":{"line":69,"column":5}},"27":{"start":{"line":66,"column":13},"end":{"line":69,"column":5}},"28":{"start":{"line":70,"column":26},"end":{"line":70,"column":82}},"29":{"start":{"line":71,"column":2},"end":{"line":74,"column":5}},"30":{"start":{"line":71,"column":24},"end":{"line":74,"column":5}},"31":{"start":{"line":80,"column":6},"end":{"line":80,"column":10}},"32":{"start":{"line":81,"column":16},"end":{"line":87,"column":5}},"33":{"start":{"line":88,"column":2},"end":{"line":92,"column":5}},"34":{"start":{"line":95,"column":0},"end":{"line":95,"column":22}},"35":{"start":{"line":97,"column":20},"end":{"line":105,"column":1}},"36":{"start":{"line":98,"column":22},"end":{"line":98,"column":47}},"37":{"start":{"line":99,"column":16},"end":{"line":99,"column":41}},"38":{"start":{"line":100,"column":18},"end":{"line":100,"column":46}},"39":{"start":{"line":101,"column":2},"end":{"line":104,"column":5}},"40":{"start":{"line":107,"column":0},"end":{"line":107,"column":34}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":31}},"loc":{"start":{"line":18,"column":37},"end":{"line":18,"column":95}},"line":18},"1":{"name":"(anonymous_1)","decl":{"start":{"line":20,"column":15},"end":{"line":20,"column":16}},"loc":{"start":{"line":20,"column":35},"end":{"line":54,"column":1}},"line":20},"2":{"name":"(anonymous_2)","decl":{"start":{"line":58,"column":14},"end":{"line":58,"column":15}},"loc":{"start":{"line":58,"column":34},"end":{"line":93,"column":1}},"line":58},"3":{"name":"(anonymous_3)","decl":{"start":{"line":97,"column":20},"end":{"line":97,"column":21}},"loc":{"start":{"line":97,"column":34},"end":{"line":105,"column":1}},"line":97}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":92}},"type":"cond-expr","locations":[{"start":{"line":18,"column":70},"end":{"line":18,"column":73}},{"start":{"line":18,"column":76},"end":{"line":18,"column":92}}],"line":18},"1":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":67}},"type":"binary-expr","locations":[{"start":{"line":18,"column":46},"end":{"line":18,"column":49}},{"start":{"line":18,"column":53},"end":{"line":18,"column":67}}],"line":18},"2":{"loc":{"start":{"line":24,"column":2},"end":{"line":26,"column":5}},"type":"if","locations":[{"start":{"line":24,"column":2},"end":{"line":26,"column":5}},{"start":{"line":24,"column":2},"end":{"line":26,"column":5}}],"line":24},"3":{"loc":{"start":{"line":28,"column":2},"end":{"line":53,"column":3}},"type":"if","locations":[{"start":{"line":28,"column":2},"end":{"line":53,"column":3}},{"start":{"line":28,"column":2},"end":{"line":53,"column":3}}],"line":28},"4":{"loc":{"start":{"line":33,"column":4},"end":{"line":38,"column":5}},"type":"if","locations":[{"start":{"line":33,"column":4},"end":{"line":38,"column":5}},{"start":{"line":33,"column":4},"end":{"line":38,"column":5}}],"line":33},"5":{"loc":{"start":{"line":66,"column":2},"end":{"line":69,"column":5}},"type":"if","locations":[{"start":{"line":66,"column":2},"end":{"line":69,"column":5}},{"start":{"line":66,"column":2},"end":{"line":69,"column":5}}],"line":66},"6":{"loc":{"start":{"line":71,"column":2},"end":{"line":74,"column":5}},"type":"if","locations":[{"start":{"line":71,"column":2},"end":{"line":74,"column":5}},{"start":{"line":71,"column":2},"end":{"line":74,"column":5}}],"line":71}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":2,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":1,"36":0,"37":0,"38":0,"39":0,"40":1},"f":{"0":2,"1":0,"2":0,"3":0},"b":{"0":[1,1],"1":[2,2],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"inputSourceMap":{"version":3,"sources":["authentication.controller.js"],"names":["signup","req","res","error","body","status","json","message","details","emailVlidator","validate","email","user","User","findOne","password","newUser","save","login","isPasswordValid","_id","firstName","lastName","role","token","JSON","stringify","userProfile","bearerToken","headers","authorization","split","payload","data"],"mappings":"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","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/controllers/","sourcesContent":["import User from '../database/model/user.model';\nimport { hash, verify } from '../middleware/hash-password';\nimport { decodeToken, signToken } from '../middleware/jwt';\nimport emailVlidator from 'email-validator';\nimport { registerValidation } from \"../validate/index\";\n\nexport const signup = async(req, res) => {\n    const { error } = registerValidation(req.body);\n    if (error) return res.status(400).json({ message: error.details[0].message });\n    if (emailVlidator.validate(req.body.email)) {\n        let user = await User.findOne({\n            email: req.body.email,\n        });\n        if (user) {\n            return res.status(400).json({\n                status: \"fail\",\n                message: \"Email Exists\",\n            });\n        }\n        user = req.body;\n        user.password = await hash(user.password);\n        const newUser = await new User(user);\n        newUser.save();\n        res\n            .status(201)\n            .json({ status: \"success\", message: \"User created\" });\n    } else {\n        res.status(401).json({ status: \"fail\", message: \"invalid email\" });\n    }\n\n}\n\nexport const login = async(req, res) => {\n    const { password, email } = req.body;\n\n    let user = await User.findOne({ email });\n    if (!user) return res.status(401).json({ status: \"fail\", message: \"Invalid email or password\" });\n    const isPasswordValid = await verify(user.password, password);\n    if (!isPasswordValid) return res.status(401).json({ status: \"fail\", message: \"Invalid email or password\" });\n\n    const { _id, firstName, lastName, role } = user;\n    const token = signToken(JSON.stringify({ _id, firstName, lastName, role, email: user.email }));\n    return res.status(200).json({ status: \"success\", message: \"successfully logged in\", token })\n\n}\n\nexport const userProfile = (req, res) => {\n    const bearerToken = req.headers.authorization;\n    const token = bearerToken.split(\" \")[1];\n    const payload = decodeToken(token);\n    return res.status(200).json({ status: true, data: payload });\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"00231e93e5cf58f7242b2c2763075e26967ac317","contentHash":"46298c365beea0b0a19c608204802cbcad0c4d090aa2e2739faf2b295cde5ca3"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/database/model/user.model.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/database/model/user.model.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":19},"end":{"line":31,"column":2}},"5":{"start":{"line":33,"column":13},"end":{"line":33,"column":56}},"6":{"start":{"line":35,"column":15},"end":{"line":35,"column":19}},"7":{"start":{"line":36,"column":0},"end":{"line":36,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["user.model.js"],"names":["UserSchema","mongoose","Schema","userName","type","String","require","email","required","unique","role","enum","default","password","User","model"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAGC,kBAASC,MAAT,CAAgB;AAC/BC,EAAAA,QAAQ,EAAE;AACNC,IAAAA,IAAI,EAAEC,MADA;AAENC,IAAAA,OAAO,EAAE;AAFH,GADqB;AAK/BC,EAAAA,KAAK,EAAE;AACHH,IAAAA,IAAI,EAAEC,MADH;AAEHG,IAAAA,QAAQ,EAAE,IAFP;AAGHC,IAAAA,MAAM,EAAE;AAHL,GALwB;AAU/BC,EAAAA,IAAI,EAAE;AACFN,IAAAA,IAAI,EAAEC,MADJ;AAEFM,IAAAA,IAAI,EAAE,CAAC,eAAD,EAAkB,OAAlB,CAFJ;AAGFC,IAAAA,OAAO,EAAE;AAHP,GAVyB;AAgB/BC,EAAAA,QAAQ,EAAE;AACNT,IAAAA,IAAI,EAAEC,MADA;AAENG,IAAAA,QAAQ,EAAE;AAFJ;AAhBqB,CAAhB,CAAnB;;AAsBA,MAAMM,IAAI,GAAGb,kBAASc,KAAT,CAAe,MAAf,EAAuBf,UAAvB,CAAb;;eACec,I","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/database/model/","sourcesContent":["import mongoose from 'mongoose';\n\nconst UserSchema = mongoose.Schema({\n    userName: {\n        type: String,\n        require: true\n    },\n    email: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    role: {\n        type: String,\n        enum: ['standard-user', 'admin'],\n        default: 'standard-user'\n\n    },\n    password: {\n        type: String,\n        required: true\n    }\n})\n\nconst User = mongoose.model('User', UserSchema);\nexport default User;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"edd3f5e69e9f918966707001b79dec433bfe2954","contentHash":"a2871069d27d923c9edc678efdfb160274464dadd653c253c67fadb37991a92f"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/middleware/hash-password.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/middleware/hash-password.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":39}},"2":{"start":{"line":8,"column":13},"end":{"line":8,"column":54}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":13},"end":{"line":14,"column":1}},"5":{"start":{"line":13,"column":2},"end":{"line":13,"column":45}},"6":{"start":{"line":16,"column":0},"end":{"line":16,"column":20}},"7":{"start":{"line":18,"column":15},"end":{"line":20,"column":1}},"8":{"start":{"line":19,"column":2},"end":{"line":19,"column":68}},"9":{"start":{"line":22,"column":0},"end":{"line":22,"column":24}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":13},"end":{"line":12,"column":14}},"loc":{"start":{"line":12,"column":31},"end":{"line":14,"column":1}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":15},"end":{"line":18,"column":16}},"loc":{"start":{"line":18,"column":56},"end":{"line":20,"column":1}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":1,"8":0,"9":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["hash-password.js"],"names":["hash","password","argon","verify","hashedPassword","plainPassword"],"mappings":";;;;;;;AAAA;;;;AAEO,MAAMA,IAAI,GAAG,MAAOC,QAAP,IAAoB;AACpC,SAAO,MAAMC,eAAMF,IAAN,CAAWC,QAAX,CAAb;AACH,CAFM;;;;AAIA,MAAME,MAAM,GAAG,OAAOC,cAAP,EAAuBC,aAAvB,KAAyC;AAC3D,SAAO,MAAMH,eAAMC,MAAN,CAAaC,cAAb,EAA6BC,aAA7B,CAAb;AACH,CAFM","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/middleware/","sourcesContent":["import argon from 'argon2';\n\nexport const hash = async (password) => {\n    return await argon.hash(password);\n}\n\nexport const verify = async (hashedPassword, plainPassword) => {\n    return await argon.verify(hashedPassword, plainPassword);\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"05f4dcf2db9524962b72068929d8d106b3590d65","contentHash":"ccceddba77daeb15dff3413cf7ed59cb360e247e893466292c2d26cc595f7d8a"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/routes/comment.route.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/routes/comment.route.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":59}},"4":{"start":{"line":12,"column":13},"end":{"line":12,"column":43}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":16,"column":15},"end":{"line":16,"column":40}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":60}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":44}},"9":{"start":{"line":20,"column":0},"end":{"line":20,"column":64}},"10":{"start":{"line":21,"column":15},"end":{"line":21,"column":21}},"11":{"start":{"line":22,"column":0},"end":{"line":22,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["comment.route.js"],"names":["router","express","Router","post","checkUser","saveComment","get","getAllComments","delete","deleteComment"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AACA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,MAAZ,EAAoBC,gBAApB,EAA+BC,oBAA/B;AACAL,MAAM,CAACM,GAAP,CAAW,MAAX,EAAmBC,uBAAnB;AACAP,MAAM,CAACQ,MAAP,CAAc,MAAd,EAAsBJ,gBAAtB,EAAiCK,sBAAjC;eAEeT,M","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/routes/","sourcesContent":["import express from 'express';\nimport { deleteComment, saveComment, getAllComments } from '../controllers/comment.controller';\nimport { checkUser } from \"../middleware/check\";\nconst router = express.Router();\n\nrouter.post(\"/:id\", checkUser, saveComment);\nrouter.get(\"/:id\", getAllComments);\nrouter.delete(\"/:id\", checkUser, deleteComment);\n\nexport default router;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c826caea430b94f3f0845bfe33f8341bf74baf60","contentHash":"efc96866a43aab610ec8626ce5f53aa19a57cea584dcbf961a16598e3ac35e82"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/controllers/comment.controller.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/controllers/comment.controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":78}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":81}},"3":{"start":{"line":10,"column":13},"end":{"line":10,"column":41}},"4":{"start":{"line":12,"column":12},"end":{"line":12,"column":75}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":16,"column":20},"end":{"line":38,"column":1}},"7":{"start":{"line":17,"column":17},"end":{"line":17,"column":30}},"8":{"start":{"line":20,"column":6},"end":{"line":20,"column":45}},"9":{"start":{"line":21,"column":2},"end":{"line":23,"column":5}},"10":{"start":{"line":21,"column":13},"end":{"line":23,"column":5}},"11":{"start":{"line":24,"column":21},"end":{"line":29,"column":4}},"12":{"start":{"line":30,"column":19},"end":{"line":30,"column":55}},"13":{"start":{"line":31,"column":2},"end":{"line":31,"column":37}},"14":{"start":{"line":32,"column":2},"end":{"line":37,"column":5}},"15":{"start":{"line":33,"column":4},"end":{"line":36,"column":7}},"16":{"start":{"line":40,"column":0},"end":{"line":40,"column":34}},"17":{"start":{"line":42,"column":23},"end":{"line":49,"column":1}},"18":{"start":{"line":43,"column":17},"end":{"line":43,"column":30}},"19":{"start":{"line":44,"column":21},"end":{"line":44,"column":78}},"20":{"start":{"line":45,"column":2},"end":{"line":48,"column":5}},"21":{"start":{"line":51,"column":0},"end":{"line":51,"column":40}},"22":{"start":{"line":53,"column":22},"end":{"line":68,"column":1}},"23":{"start":{"line":56,"column":6},"end":{"line":56,"column":16}},"24":{"start":{"line":57,"column":18},"end":{"line":57,"column":50}},"25":{"start":{"line":58,"column":2},"end":{"line":61,"column":5}},"26":{"start":{"line":58,"column":16},"end":{"line":61,"column":5}},"27":{"start":{"line":62,"column":2},"end":{"line":62,"column":47}},"28":{"start":{"line":63,"column":2},"end":{"line":67,"column":5}},"29":{"start":{"line":70,"column":0},"end":{"line":70,"column":38}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":20},"end":{"line":16,"column":21}},"loc":{"start":{"line":16,"column":40},"end":{"line":38,"column":1}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":32,"column":22},"end":{"line":32,"column":23}},"loc":{"start":{"line":32,"column":39},"end":{"line":37,"column":3}},"line":32},"3":{"name":"(anonymous_3)","decl":{"start":{"line":42,"column":23},"end":{"line":42,"column":24}},"loc":{"start":{"line":42,"column":43},"end":{"line":49,"column":1}},"line":42},"4":{"name":"(anonymous_4)","decl":{"start":{"line":53,"column":22},"end":{"line":53,"column":23}},"loc":{"start":{"line":53,"column":42},"end":{"line":68,"column":1}},"line":53}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14},"2":{"loc":{"start":{"line":21,"column":2},"end":{"line":23,"column":5}},"type":"if","locations":[{"start":{"line":21,"column":2},"end":{"line":23,"column":5}},{"start":{"line":21,"column":2},"end":{"line":23,"column":5}}],"line":21},"3":{"loc":{"start":{"line":58,"column":2},"end":{"line":61,"column":5}},"type":"if","locations":[{"start":{"line":58,"column":2},"end":{"line":61,"column":5}},{"start":{"line":58,"column":2},"end":{"line":61,"column":5}}],"line":58}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":1,"18":0,"19":0,"20":0,"21":1,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1},"f":{"0":2,"1":0,"2":0,"3":0,"4":0},"b":{"0":[2,0],"1":[2,2],"2":[0,0],"3":[0,0]},"inputSourceMap":{"version":3,"sources":["comment.controller.js"],"names":["saveComment","req","res","blogId","params","id","error","body","status","json","message","details","newComment","Comment","create","names","email","comment","blogPost","Blog","findById","comments","push","save","data","getAllComments","getComment","populate","deleteComment","findByIdAndDelete"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEO,MAAMA,WAAW,GAAG,OAAMC,GAAN,EAAWC,GAAX,KAAmB;AAC1C,QAAMC,MAAM,GAAGF,GAAG,CAACG,MAAJ,CAAWC,EAA1B;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAY,8BAAkBL,GAAG,CAACM,IAAtB,CAAlB;AACA,MAAID,KAAJ,EAAW,OAAOJ,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAEJ,KAAK,CAACK,OAAN,CAAc,CAAd,EAAiBD;AAA5B,GAArB,CAAP;AAEX,QAAME,UAAU,GAAG,MAAMC,iBAAQC,MAAR,CAAe;AACpCC,IAAAA,KAAK,EAAEd,GAAG,CAACM,IAAJ,CAASQ,KADoB;AAEpCC,IAAAA,KAAK,EAAEf,GAAG,CAACM,IAAJ,CAASS,KAFoB;AAGpCC,IAAAA,OAAO,EAAEhB,GAAG,CAACM,IAAJ,CAASU,OAHkB;AAIpCC,IAAAA,QAAQ,EAAEf;AAJ0B,GAAf,CAAzB;AAMA,QAAMe,QAAQ,GAAG,MAAMC,cAAKC,QAAL,CAAcjB,MAAd,CAAvB;AACAe,EAAAA,QAAQ,CAACG,QAAT,CAAkBC,IAAlB,CAAuBV,UAAvB;AACA,QAAMM,QAAQ,CAACK,IAAT,CAAc,UAASjB,KAAT,EAAgB;AAChCJ,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,MAAAA,MAAM,EAAE,SAAV;AAAqBgB,MAAAA,IAAI,EAAEZ;AAA3B,KAArB;AACH,GAFK,CAAN;AAGH,CAhBM;;;;AAkBA,MAAMa,cAAc,GAAG,OAAMxB,GAAN,EAAWC,GAAX,KAAmB;AAC7C,QAAMC,MAAM,GAAGF,GAAG,CAACG,MAAJ,CAAWC,EAA1B;AACA,QAAMqB,UAAU,GAAG,MAAMP,cAAKC,QAAL,CAAcjB,MAAd,EAAsBwB,QAAtB,CAA+B,UAA/B,CAAzB;AACAzB,EAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,SAAV;AAAqBgB,IAAAA,IAAI,EAAEE,UAAU,CAACL;AAAtC,GAArB;AACH,CAJM;;;;AAMA,MAAMO,aAAa,GAAG,OAAM3B,GAAN,EAAWC,GAAX,KAAmB;AAC5C,QAAM;AAAEG,IAAAA;AAAF,MAASJ,GAAG,CAACG,MAAnB;AACA,QAAMa,OAAO,GAAG,MAAME,cAAKC,QAAL,CAAcf,EAAd,CAAtB;AACA,MAAI,CAACY,OAAL,EACI,OAAOf,GAAG,CACLM,MADE,CACK,GADL,EAEFC,IAFE,CAEG;AAAED,IAAAA,MAAM,EAAE,KAAV;AAAiBE,IAAAA,OAAO,EAAE;AAA1B,GAFH,CAAP;AAGJ,QAAMG,iBAAQgB,iBAAR,CAA0BxB,EAA1B,CAAN;AACAH,EAAAA,GAAG,CACEM,MADL,CACY,GADZ,EAEKC,IAFL,CAEU;AAAED,IAAAA,MAAM,EAAE,SAAV;AAAqBE,IAAAA,OAAO,EAAE,iBAA9B;AAAiDc,IAAAA,IAAI,EAAEP;AAAvD,GAFV;AAGH,CAXM","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/controllers/","sourcesContent":["import Comment from '../database/model/comment.model';\nimport { commentValidation } from \"../validate/index\";\nimport Blog from '../database/model/blog.model';\n\nexport const saveComment = async(req, res) => {\n    const blogId = req.params.id;\n    const { error } = commentValidation(req.body);\n    if (error) return res.status(400).json({ message: error.details[0].message });\n\n    const newComment = await Comment.create({\n        names: req.body.names,\n        email: req.body.email,\n        comment: req.body.comment,\n        blogPost: blogId,\n    });\n    const blogPost = await Blog.findById(blogId);\n    blogPost.comments.push(newComment);\n    await blogPost.save(function(error) {\n        res.status(201).json({ status: \"success\", data: newComment });\n    });\n};\n\nexport const getAllComments = async(req, res) => {\n    const blogId = req.params.id;\n    const getComment = await Blog.findById(blogId).populate(\"comments\");\n    res.status(200).json({ status: \"success\", data: getComment.comments });\n};\n\nexport const deleteComment = async(req, res) => {\n    const { id } = req.params;\n    const comment = await Blog.findById(id);\n    if (!comment)\n        return res\n            .status(204)\n            .json({ status: false, message: \"Comment not found\" });\n    await Comment.findByIdAndDelete(id);\n    res\n        .status(201)\n        .json({ status: \"success\", message: \"Comment deleted\", data: comment });\n};"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a6bb082747565a1aba496b70973465a12b690610","contentHash":"5523be073eb6ad019f1e1ba696cee4c2f3f2a2218e7de109767eb20cb40234e7"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/database/model/comment.model.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/database/model/comment.model.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":22},"end":{"line":29,"column":2}},"5":{"start":{"line":31,"column":16},"end":{"line":31,"column":65}},"6":{"start":{"line":33,"column":15},"end":{"line":33,"column":22}},"7":{"start":{"line":34,"column":0},"end":{"line":34,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["comment.model.js"],"names":["commentSchema","mongoose","Schema","names","type","String","required","email","comment","blogPost","Types","ObjectId","ref","Comment","model"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,aAAa,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AAEtCC,EAAAA,KAAK,EAAE;AACHC,IAAAA,IAAI,EAAEC,MADH;AAEHC,IAAAA,QAAQ,EAAE;AAFP,GAF+B;AAMtCC,EAAAA,KAAK,EAAE;AACHH,IAAAA,IAAI,EAAEC,MADH;AAEHC,IAAAA,QAAQ,EAAE;AAFP,GAN+B;AAUtCE,EAAAA,OAAO,EAAE;AACLJ,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE;AAFL,GAV6B;AActCG,EAAAA,QAAQ,EAAE;AACNL,IAAAA,IAAI,EAAEH,kBAASC,MAAT,CAAgBQ,KAAhB,CAAsBC,QADtB;AAENC,IAAAA,GAAG,EAAE;AAFC;AAd4B,CAApB,CAAtB;;AAqBA,MAAMC,OAAO,GAAGZ,kBAASa,KAAT,CAAe,SAAf,EAA0Bd,aAA1B,CAAhB;;eACea,O","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/database/model/","sourcesContent":["import mongoose from 'mongoose'\n\nconst commentSchema = new mongoose.Schema({\n\n    names: {\n        type: String,\n        required: true\n    },\n    email: {\n        type: String,\n        required: true\n    },\n    comment: {\n        type: String,\n        required: true\n    },\n    blogPost: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: \"Blog\",\n    },\n\n})\n\nconst Comment = mongoose.model('Comment', commentSchema);\nexport default Comment;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"73c41cf1b09669653fb325c6de1125bd811d2326","contentHash":"649fd3627619e5cc9dd127be159a98f9f622712cd63928121613ff6ee706168a"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/routes/newsletter.route.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/routes/newsletter.route.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":18},"end":{"line":10,"column":65}},"4":{"start":{"line":12,"column":13},"end":{"line":12,"column":43}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":16,"column":15},"end":{"line":16,"column":40}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":46}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":69}},"9":{"start":{"line":20,"column":0},"end":{"line":20,"column":66}},"10":{"start":{"line":21,"column":15},"end":{"line":21,"column":21}},"11":{"start":{"line":22,"column":0},"end":{"line":22,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["newsletter.route.js"],"names":["router","express","Router","post","newsLetterEmail","delete","checkAdmin","deleteNewsById","get","getAllSubscribers"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AACA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,GAAZ,EAAiBC,2BAAjB;AACAJ,MAAM,CAACK,MAAP,CAAc,MAAd,EAAsBC,iBAAtB,EAAkCC,0BAAlC;AACAP,MAAM,CAACQ,GAAP,CAAW,GAAX,EAAgBF,iBAAhB,EAA4BG,6BAA5B;eACeT,M","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/routes/","sourcesContent":["import express from 'express';\nimport { newsLetterEmail, deleteNewsById, getAllSubscribers } from '../controllers/newsletter.controller';\nimport { checkAdmin } from \"../middleware/check\";\nconst router = express.Router();\n\nrouter.post('/', newsLetterEmail);\nrouter.delete('/:id', checkAdmin, deleteNewsById);\nrouter.get('/', checkAdmin, getAllSubscribers);\nexport default router;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"124ae3bacda4cf3b43810e363bdf329a86ce3cc8","contentHash":"aeb1ebc11b491ba9730088c39861379a7c2496aadf0ae6a831a925f77a711c99"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/controllers/newsletter.controller.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/controllers/newsletter.controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":86}},"2":{"start":{"line":8,"column":18},"end":{"line":8,"column":87}},"3":{"start":{"line":10,"column":13},"end":{"line":10,"column":41}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":14,"column":24},"end":{"line":37,"column":1}},"6":{"start":{"line":17,"column":6},"end":{"line":17,"column":48}},"7":{"start":{"line":18,"column":2},"end":{"line":20,"column":5}},"8":{"start":{"line":18,"column":13},"end":{"line":20,"column":5}},"9":{"start":{"line":21,"column":17},"end":{"line":21,"column":60}},"10":{"start":{"line":23,"column":2},"end":{"line":28,"column":3}},"11":{"start":{"line":24,"column":4},"end":{"line":27,"column":7}},"12":{"start":{"line":30,"column":21},"end":{"line":30,"column":29}},"13":{"start":{"line":31,"column":19},"end":{"line":31,"column":54}},"14":{"start":{"line":32,"column":2},"end":{"line":32,"column":24}},"15":{"start":{"line":33,"column":2},"end":{"line":36,"column":5}},"16":{"start":{"line":39,"column":0},"end":{"line":39,"column":42}},"17":{"start":{"line":41,"column":26},"end":{"line":47,"column":1}},"18":{"start":{"line":42,"column":15},"end":{"line":42,"column":47}},"19":{"start":{"line":43,"column":2},"end":{"line":46,"column":5}},"20":{"start":{"line":49,"column":0},"end":{"line":49,"column":46}},"21":{"start":{"line":51,"column":23},"end":{"line":66,"column":1}},"22":{"start":{"line":54,"column":6},"end":{"line":54,"column":16}},"23":{"start":{"line":55,"column":15},"end":{"line":55,"column":53}},"24":{"start":{"line":56,"column":2},"end":{"line":59,"column":5}},"25":{"start":{"line":56,"column":13},"end":{"line":59,"column":5}},"26":{"start":{"line":60,"column":2},"end":{"line":60,"column":50}},"27":{"start":{"line":61,"column":2},"end":{"line":65,"column":5}},"28":{"start":{"line":68,"column":0},"end":{"line":68,"column":40}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":24},"end":{"line":14,"column":25}},"loc":{"start":{"line":14,"column":44},"end":{"line":37,"column":1}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":41,"column":26},"end":{"line":41,"column":27}},"loc":{"start":{"line":41,"column":46},"end":{"line":47,"column":1}},"line":41},"3":{"name":"(anonymous_3)","decl":{"start":{"line":51,"column":23},"end":{"line":51,"column":24}},"loc":{"start":{"line":51,"column":43},"end":{"line":66,"column":1}},"line":51}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":18,"column":2},"end":{"line":20,"column":5}},"type":"if","locations":[{"start":{"line":18,"column":2},"end":{"line":20,"column":5}},{"start":{"line":18,"column":2},"end":{"line":20,"column":5}}],"line":18},"3":{"loc":{"start":{"line":23,"column":2},"end":{"line":28,"column":3}},"type":"if","locations":[{"start":{"line":23,"column":2},"end":{"line":28,"column":3}},{"start":{"line":23,"column":2},"end":{"line":28,"column":3}}],"line":23},"4":{"loc":{"start":{"line":56,"column":2},"end":{"line":59,"column":5}},"type":"if","locations":[{"start":{"line":56,"column":2},"end":{"line":59,"column":5}},{"start":{"line":56,"column":2},"end":{"line":59,"column":5}}],"line":56}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":1,"18":0,"19":0,"20":1,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1},"f":{"0":1,"1":0,"2":0,"3":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"sources":["newsletter.controller.js"],"names":["newsLetterEmail","req","res","error","body","status","json","message","details","oldemail","newsLetters","findOne","newsletter","saveData","save","data","getAllSubscribers","news","find","deleteNewsById","id","params","findById","findByIdAndDelete"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEO,MAAMA,eAAe,GAAG,OAAMC,GAAN,EAAWC,GAAX,KAAmB;AAC9C,QAAM;AAAEC,IAAAA;AAAF,MAAY,iCAAqBF,GAAG,CAACG,IAAzB,CAAlB;AACA,MAAID,KAAJ,EAAW,OAAOD,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAEJ,KAAK,CAACK,OAAN,CAAc,CAAd,EAAiBD;AAA5B,GAArB,CAAP;AACX,MAAIE,QAAQ,GAAG,MAAMC,oBAAYC,OAAZ,CAAoBV,GAAG,CAACG,IAAxB,CAArB;;AACA,MAAIK,QAAJ,EAAc;AACV,WAAOP,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACxBD,MAAAA,MAAM,EAAE,MADgB;AAExBE,MAAAA,OAAO,EAAE;AAFe,KAArB,CAAP;AAIH;;AACD,QAAMK,UAAU,GAAGX,GAAG,CAACG,IAAvB;AACA,QAAMS,QAAQ,GAAG,IAAIH,mBAAJ,CAAgBE,UAAhB,CAAjB;AACA,QAAMC,QAAQ,CAACC,IAAT,EAAN;AACAZ,EAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,SAAV;AAAqBU,IAAAA,IAAI,EAAEF;AAA3B,GAArB;AACH,CAdM;;;;AAgBA,MAAMG,iBAAiB,GAAG,OAAMf,GAAN,EAAWC,GAAX,KAAmB;AAChD,QAAMe,IAAI,GAAG,MAAMP,oBAAYQ,IAAZ,EAAnB;AACAhB,EAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,IAAV;AAAgBU,IAAAA,IAAI,EAAEE;AAAtB,GAArB;AACH,CAHM;;;;AAKA,MAAME,cAAc,GAAG,OAAMlB,GAAN,EAAWC,GAAX,KAAmB;AAC7C,QAAM;AAAEkB,IAAAA;AAAF,MAASnB,GAAG,CAACoB,MAAnB;AACA,QAAMJ,IAAI,GAAG,MAAMP,oBAAYY,QAAZ,CAAqBF,EAArB,CAAnB;AACA,MAAI,CAACH,IAAL,EAAW,OAAOf,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,MAAV;AAAkBE,IAAAA,OAAO,EAAE;AAA3B,GAArB,CAAP;AACX,QAAMG,oBAAYa,iBAAZ,CAA8BH,EAA9B,CAAN;AACAlB,EAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,SAAV;AAAqBE,IAAAA,OAAO,EAAE,eAA9B;AAA+CQ,IAAAA,IAAI,EAAE;AAArD,GAArB;AACH,CANM","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/controllers/","sourcesContent":["import newsLetters from '../database/model/newsletter.model';\nimport { newsletterValidation } from \"../validate/index\";\n\nexport const newsLetterEmail = async(req, res) => {\n    const { error } = newsletterValidation(req.body);\n    if (error) return res.status(400).json({ message: error.details[0].message });\n    let oldemail = await newsLetters.findOne(req.body);\n    if (oldemail) {\n        return res.status(400).json({\n            status: \"fail\",\n            message: \"email Exists\",\n        });\n    }\n    const newsletter = req.body;\n    const saveData = new newsLetters(newsletter);\n    await saveData.save();\n    res.status(201).json({ status: \"success\", data: saveData });\n}\n\nexport const getAllSubscribers = async(req, res) => {\n    const news = await newsLetters.find();\n    res.status(200).json({ status: true, data: news })\n}\n\nexport const deleteNewsById = async(req, res) => {\n    const { id } = req.params;\n    const news = await newsLetters.findById(id);\n    if (!news) return res.status(404).json({ status: \"fail\", message: \"email not found\" });\n    await newsLetters.findByIdAndDelete(id);\n    res.status(200).json({ status: \"success\", message: \"email deleted\", data: \"Null\" });\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a8dcd6e0cef2e2a3bf3d2a787ace8d9cda2d0e75","contentHash":"47d2afe3065c23a0b672c82ec12c711d4608f3c0b370179d72b474eefee032a8"},"/home/arthur/Desktop/andela/resources/my-brand-api/src/database/model/newsletter.model.js":{"path":"/home/arthur/Desktop/andela/resources/my-brand-api/src/database/model/newsletter.model.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":19},"end":{"line":17,"column":2}},"5":{"start":{"line":19,"column":13},"end":{"line":19,"column":56}},"6":{"start":{"line":21,"column":15},"end":{"line":21,"column":19}},"7":{"start":{"line":22,"column":0},"end":{"line":22,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["newsletter.model.js"],"names":["newsSchema","mongoose","Schema","email","type","String","required","News","model"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AAEnCC,EAAAA,KAAK,EAAE;AACHC,IAAAA,IAAI,EAAEC,MADH;AAEHC,IAAAA,QAAQ,EAAE;AAFP;AAF4B,CAApB,CAAnB;;AAUA,MAAMC,IAAI,GAAGN,kBAASO,KAAT,CAAe,MAAf,EAAuBR,UAAvB,CAAb;;eACeO,I","sourceRoot":"/home/arthur/Desktop/andela/resources/my-brand-api/src/database/model/","sourcesContent":["import mongoose from 'mongoose'\n\nconst newsSchema = new mongoose.Schema({\n\n    email: {\n        type: String,\n        required: true\n    }\n\n})\n\n\nconst News = mongoose.model('News', newsSchema);\nexport default News;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"26241bb3adebd460635ba30b65aa31f9de18f05e","contentHash":"ceac9993ddd67d319063361225da4f1e75c6f50fbcbf0c3374f59ac7ee772e0c"}}